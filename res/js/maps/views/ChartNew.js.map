{"version":3,"sources":["views/ChartNew.coffee"],"names":[],"mappings":"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","file":"../../views/ChartNew.js","sourcesContent":["# ChartNew starts here\nChartNew = Backbone.View.extend {\n\ttagName: \"div\" # Div used for this view\n\tclassName: \"form-inline ChartNew\"\n\n\tevents: {\n\t\t\"change #legendQuestion_c\": \"newReport_updateGrouping\"\n\t\t\"click a.drpdwn\": \"change\"\n\t\t\"click button#render\": \"renderReport\"\n\t\t\"click #help\": \"help\"\n\t}\n\n\tinitialize: (options) ->\n\t\t_.bindAll this, 'render', 'addLegendSelectOptions', 'newReport_setForm', 'newReport_changeChartType', 'newReport_addQuestions', 'newReport_addLegendSelectAreaLine', 'newReport_addLegendSelectBarAreaLine', 'newReport_addLegendSelectPie', 'change', 'newReport_updateGrouping', 'renderReport', 'stopLoading', 'help'\n\t\t@parent = options.parent\n\t\t@chartSelectionModel = options.chartSelectionModel\n\t\t@superParent = options.superParent\n\t\t@model =  options.model\n\t\t@isNumericField = 0\n\t\t@chartNewModel = new poimapper.models.ChartNewModel()\n\t\tquestions = {}\n\t\tfilters = {\n\t\t\t\t\"editorFilterType\":false\n\t\t\t\t\"dateFilterType\":false\n\t\t\t\t\"locFilterType\":false\n\t\t}\n\t\tsettings = {\n\t\t\t\t\"excludenull\": false\n\t\t\t\t\"combinenumericfields\":false\n\t\t}\n\t\t@chartNewModel.set report_title: @model.get(\"report_title\")\n\t\t@chartNewModel.set questions: {}\n\t\t@chartNewModel.set filters: filters\n\t\t@chartNewModel.set settings: settings\n\t\t#console.log \"ChartNew init Model=\"+@model.get(\"report_title\"), @model, \"ChartNewMOdel\",@chartNewModel\n\n\n\trender: () ->\n\t\t@$el.append @newReport_template({})\n\t\t#@$(\"#locationLevel_c\").prop(\"disabled\",true)\n\t\treturn  this\n\n\n\t# FUNCTION: newReport_setForm() sets the form parameters for new Report\n\tnewReport_setForm: () ->\n\t\t\t@chartId = Number @model.get(\"template_data\").template_params.chart # 0= Bar. 1= Area, 2= Line, 3= Pie\n\t\t\t#if its a pie chart\n\t\t\tif @chartId is 3\n\t\t\t\t# Hiding these form values since they are not needed\n\t\t\t\t@$(\"#legendQuestion_c\").val(\"0\")\n\t\t\t\t@$(\".not_pie\").hide()\n\t\t\t@newReport_updateGrouping() # Adds initial location levels for Select Grouping dropdown\n\n\t\t\t@$(\".legendDiv\").hide()\n\t\t\t@$(\"#close\").prop(\"disabled\", true)\n\t\t\t@newReport_changeChartType() # calls other functions that loads questions and X-axis for numericals\n\n\n\t# FUNCTION: newReport_updateGrouping() changes new form values when legend changes\n\tnewReport_updateGrouping: () ->\n\t\tchartType = @model.get(\"template_data\").template_params.chart\n\t\tlegendQuestionid = Number @$(\"#legendQuestion_c\").val()\n\t\t@$(\"#locationLevel_c\").empty()\n\t\tif @chartId is 3 or @isNumericField is 0 # forPie\n\t\t\ti = 0\n\t\t\twhile i < locationLabels.length\n\t\t\t\t\tif locationLabels[i] isnt null and locationLabels[i] isnt \"Location 1\" and locationLabels[i] isnt \"Location 2\" and locationLabels[i] isnt \"Location 3\" and locationLabels[i] isnt \"Location 4\" and locationLabels[i] isnt \"null\"\n\t\t\t\t\t\t\t@$(\"#locationLevel_c\").append new Option(locationLabels[i], i + 1), null\n\t\t\t\t\t\ti++\n\n\t\telse if legendQuestionid is 1 or legendQuestionid is 2 or legendQuestionid is 3 or legendQuestionid is 4\n\t\t\ti = 0\n\t\t\twhile i < window.locationLabels.length\n\t\t\t\t\tvalue_id = i + 1\n\t\t\t\t\tif value_id < legendQuestionid\n\t\t\t\t\t\tif window.locationLabels isnt null and window.locationLabels[i] isnt \"Location 1\" and window.locationLabels[i] isnt \"Location 2\" and window.locationLabels[i] isnt \"Location 3\" and window.locationLabels[i] isnt \"Location 4\" and window.locationLabels[i] isnt \"null\"\n\t\t\t\t\t\t\t@$(\"#locationLevel_c\").append new Option(window.locationLabels[i], i + 1), null\n\t\t\t\t\ti++\n\n\t\telse\n\t\t\t@$(\"#locationLevel_c\").empty()\n\t\t\ti = 0\n\t\t\twhile i < window.locationLabels.length\n\t\t\t\t\tif window.locationLabels isnt null and window.locationLabels[i] isnt \"Location 1\" and window.locationLabels[i] isnt \"Location 2\" and window.locationLabels[i] isnt \"Location 3\" and window.locationLabels[i] isnt \"Location 4\" and window.locationLabels[i] isnt \"null\"\n\t\t\t\t\t\t\t@$(\"#locationLevel_c\").append new Option(window.locationLabels[i], i + 1), null\n\t\t\t\t\ti++\n\n\t\t@$(\"#locationLevel_c\").prepend new Option(\"No Grouping\", 0), null\n\n\n\t#FUNCTION: newReport_changeChartType() for loading data for charts\n\tnewReport_changeChartType: ()->\n\t\t@qSelect = Number @model.get(\"form_id\") # form/poi Id\n\n\t\t@srcSelect = @$(\"#questionName_c\") # id to load questions\n\t\t@srcSelect.empty() #clearing questions to Load new\n\n\t\t@legendSelect = @$(\"#legendQuestion_c\")\n\t\t@legendSelect.empty()#clearing legend to load new\n\n\t\t@formId = @model.get(\"form_id\")\n\t\t@formModel = window.formCollection.get(@formId) # fetch formModel\n\t\tpages = @formModel.get(\"questionPage\")\n\t\t@page = [] # Will contain all the questions\n\t\t#console.log(\"formMOdel\", @formModel)\n\t\tif !@formModel.get(\"hasLocationHierarchy\")\n\t\t\t@$(\"#locationLevel_c\").parent().hide()\n\t\tif @formModel.get(\"type\") is \"TABLE\"\n\t\t\t@page = @formModel.get(\"question\")\n\t\telse if @formModel.get(\"type\") is 'POI' or @formModel.get(\"type\") is 'AREA' or @formModel.get(\"type\") is 'ROUTE'\n\t\t\tx=0\n\t\t\twhile x < pages.length\n\t\t\t\t\ty=0\n\t\t\t\t\twhile y < pages[x].question.length\n\t\t\t\t\t\t\tpages[x].question[y][\"page_number\"]=x\n\t\t\t\t\t\t\t@page.push(pages[x].question[y])\n\t\t\t\t\t\t\ty++\n\t\t\t\t\tx++\n\t\t#console.log \"newReport_changeChartType-1 =>(chartId)\",\"formModel.attributes\", @formModel.attributes, \"page=\", @page\n\t\t@addLegendSelectOptions()\n\n\n\t# FUNCTION: addLegendSelectOptions() adds legend options for x-axis\n\taddLegendSelectOptions: () ->\n\t\t# If AREA or LINE\n\t\tif @chartId is 1 or @chartId is 2\n\t\t\t@newReport_addLegendSelectAreaLine()\n\n\t\t# If Bar, AREA or LINE\n\t\tif @chartId is 0 or @chartId is 1 or @chartId is 2\n\t\t\t@newReport_addLegendSelectBarAreaLine()\n\n\t\t# If Pie\n\t\tif @chartId is 3\n\t\t\t@newReport_addLegendSelectPie()\n\n\n\t# FUNCTION: newReport_addLegendSelectAreaLine() adds X-axis legends and calls function for adding relevant questions\n\tnewReport_addLegendSelectAreaLine:()->\n\t\t@legendSelect.append new Option(\"Day when updated\", \"modifiedday\"), null\n\t\t@legendSelect.append new Option(\"Week when updated\", \"modifiedweek\"), null\n\t\t@legendSelect.append new Option(\"Month when updated\", \"modifiedmonth\"), null\n\t\t@legendSelect.append new Option(\"Year\twhen updated\", \"modifiedyear\"), null\n\t\t@legendSelect.append new Option(\"Time of day when updated (24 hours)\", \"modifieddaytime\"), null\n\t\t@legendSelect.append new Option(\"Modified Time\", \"modified\"), null\n\n\n\t# FUNCTION: newReport_addLegendSelectBarAreaLine() adds X-axis legends and calls function for adding relevant questions\n\tnewReport_addLegendSelectBarAreaLine:() ->\n\t\ti = 0\n\t\tif @formModel.get(\"type\") is 'POI' or @formModel.get(\"type\") is 'AREA' or @formModel.get(\"type\") is 'ROUTE'\n\t\t\t\twhile i < locationLabels.length\n\t\t\t\t\t\tif locationLabels[i] isnt null and locationLabels[i] isnt \"Location 1\" and locationLabels[i] isnt \"Location 2\" and locationLabels[i] isnt \"Location 3\" and locationLabels[i] isnt \"Location 4\" and locationLabels[i] isnt \"null\"\n\t\t\t\t\t\t\t\t@legendSelect.append new Option(locationLabels[i], i + 1), null if @chartId is 0\n\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t#legendSelect.add new Option(\"location\"+ (i+1), i + 1), null\n\n\t\t\t\t\t\ti++\n\t\tj = 0\n\n\t\twhile j < @page.length\n\t\t\t\tqn = @page[j]\n\t\t\t\tif qn.type is \"IdQuestion\" or qn.type is \"PicturesQuestion\" or qn.type is \"Part_of_Question\" or qn.type is \"TimeQuestion\" or qn.type is \"TableQuestion\" or qn.type is \"Label\" or qn.type is \"HeaderQuestion\" or qn.id is \"phoneEditTime\" or qn.id is \"portalEditTime\" or qn.id is \"portalEditEntry\" or qn.id is \"Location1\" or qn.id is \"Location2\" or qn.id is \"Location3\" or qn.id is \"Location4\" or qn.type is \"GPSQuestion\"\n\t\t\t\t\tif qn.id is \"user_id\"\n\t\t\t\t\t\t#legendSelect.add new Option(qn.text, qn.id), null\n\t\t\t\t\telse\n\t\t\t\t\t\tj++\n\t\t\t\t\t\tcontinue\n\n\t\t\t\telse\n\t\t\t\t\t\tif (qn.type is \"BooleanQuestion\" or qn.type is \"SelectOneQuestion\"\tor qn.type is \"SelectMultipleQuestion\" or qn.type is \"StatusQuestion\" or (qn.validationlist isnt undefined and qn.validationlist.length > 0)) and @chartId is 0 and !qn.inVisible\n\t\t\t\t\t\t\t@legendSelect.append new Option(qn.text+ \"-(Page_\" + Number(qn.page_number+1) + \")\", qn.id), null\n\n\t\t\t\t\t\tunless qn.type is \"NameQuestion\"\n\t\t\t\t\t\t\tif qn.type isnt \"SkipQuestion\"\n\t\t\t\t\t\t\t\tif @chartId is 0 or @chartId is 1 or @chartId is 2\n\t\t\t\t\t\t\t\t\tif (qn.type is \"IntQuestion\" or qn.type is \"FloatQuestion\") or (!qn.inVisible and (qn.text is \"Count\" or qn.text is \"count\" or qn.id is \"countQuestion\"))\n\t\t\t\t\t\t\t\t\t\t#opt = new Option(qn.text+ \"-(Page_\" + Number(qn.page_number+1) + \")\", qn.id)\n\t\t\t\t\t\t\t\t\t\t#$(opt).attr('isnumber','yes')\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tif @formModel.get(\"type\") is \"TABLE\"\n\t\t\t\t\t\t\t\t\t\t\t@newReport_addQuestions(qn.text, qn.id, 'yes')\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t@newReport_addQuestions(qn.text+ \"-(Pages_\" + Number(qn.page_number+1) + \")\", qn.id, 'yes')\n\t\t\t\t\t\t\t\t\t\t#@srcSelect.append opt, null\n\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\topt = new Option(qn.text+ \"-(Page_\" + Number(qn.page_number+1) + \")\", qn.id)\n\t\t\t\t\t\t\t\t\t\t$(opt).attr('isnumber','no')\n\t\t\t\t\t\t\t\t\t\tif (qn.type is \"BooleanQuestion\" or qn.type is \"SelectOneQuestion\" or qn.type is \"SelectMultipleQuestion\" or qn.type is \"StatusQuestion\" or (qn.validationlist isnt undefined and qn.validationlist.length > 0) or qn.type is \"IntQuestion\" or qn.type is \"FloatQuestion\") and !qn.inVisible\n\t\t\t\t\t\t\t\t\t\t\tif @formModel.get(\"type\") is \"TABLE\"\n\t\t\t\t\t\t\t\t\t\t\t\t@newReport_addQuestions(qn.text, qn.id, 'no')\n\t\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t\t@newReport_addQuestions(qn.text+ \"-(Page_\" + Number(qn.page_number+1) + \")\", qn.id, 'no')\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tif (qn.type is \"BooleanQuestion\" or qn.type is \"SelectOneQuestion\" or qn.type is \"SelectMultipleQuestion\" or qn.type is \"StatusQuestion\" or (qn.validationlist isnt undefined and qn.validationlist.length > 0) or qn.type is \"IntQuestion\" or qn.type is \"FloatQuestion\") and !qn.inVisible\n\t\t\t\t\t\t\t\t\t\tif @formModel.get(\"type\") is \"TABLE\"\n\t\t\t\t\t\t\t\t\t\t\t@newReport_addQuestions(qn.text, qn.id, null)\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t@newReport_addQuestions(qn.text+ \"-(Page_\" + Number(qn.page_number+1) + \")\", qn.id, null)\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t# If Subquestions exists\t\t\n\t\t\t\t\t\t\tif qn.triggerValues? and !qn.inVisible\t\t\n\t\t\t\t\t\t\t\t@addSubQuestions qn,1 \n\t\t\t\tj++\n\n\n\t# FUNCTION: newReport_addLegendSelectPie() adds X-axis legends(not required for Pie but using to keep consistent structure) and calls function for adding relevant questions\n\tnewReport_addLegendSelectPie: () ->\n\t\tj = 0\n\t\twhile j < @page.length\n\t\t\tqn = @page[j]\n\t\t\tif qn.inVisible or qn.type is \"IdQuestion\" or qn.type is \"PicturesQuestion\" or qn.type is \"Part_of_Question\" or qn.type is \"TimeQuestion\" or qn.type is \"TableQuestion\" or qn.type is \"Label\" or qn.type is \"HeaderQuestion\" or qn.id is \"phoneEditTime\" or qn.id is \"portalEditTime\" or qn.id is \"portalEditEntry\" or qn.id is \"Location1\" or qn.id is \"Location2\" or qn.id is \"Location3\" or qn.id is \"Location4\" or qn.type is \"GPSQuestion\" or qn.type is \"ValidationRuleQuestion\" or qn.type is \"FileQuestion\"\n\t\t\t\t\tj++\n\t\t\t\t\tcontinue\n\t\t\telse\n\t\t\t\t\tif qn.type is \"BooleanQuestion\" or qn.type is \"SelectOneQuestion\" or qn.type is \"SelectMultipleQuestion\" or qn.type is \"SkipQuestion\" or qn.type is \"StatusQuestion\" or (qn.validationlist isnt undefined and qn.validationlist.length > 0)\n\t\t\t\t\t\t\tif qn.type isnt \"SkipQuestion\"\n\t\t\t\t\t\t\t\t@newReport_addQuestions(qn.text+ \"-(Page_\" + Number(qn.page_number+1) + \")\", qn.id, null)\n\n\t\t\t\t\t\t\tif qn.triggerValues?\n\t\t\t\t\t\t\t\t@addSubQuestions qn,1\n\t\t\tj++\n\n\n\t#FUNCTION: addSubQuestions() adds subquestions\n\taddSubQuestions: (qn, rowandcolumn)->\n\t\t#console.log \"addSubquestions Called\"\n\t\tfor triggerValue in qn.triggerValues.triggerValue\n\t\t\t\tif triggerValue.action.subQuestions?\n\t\t\t\t\tfor subQs in triggerValue.action.subQuestions.question\n\t\t\t\t\t\t# Create srcSelect for subquestions\n\t\t\t\t\t\t#srcSelect=processSubQuestionsForReport subQs,@srcSelect,@chartid,rowandcolumn\n\t\t\t\t\t\t\tif subQs.text != undefined\n\t\t\t\t\t\t\t\t#handle different chart types. This code is replicated form utilities-old.js processSubQuestionsForReport()\n\t\t\t\t\t\t\t\tswitch @chartId\n\t\t\t\t\t\t\t\t\twhen -1 #for Table\n\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\twhen -2 # Cross Table\n\t\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t\twhen 0,1,2 # bar, Area, Line\n\t\t\t\t\t\t\t\t\t\tif subQs.type ==\"IntQuestion\" || subQs.type ==\"FloatQuestion\" || subQs.type ==\"SelectOneQuestion\" || subQs.type ==\"SelectMultipleQuestion\" || subQs.type ==\"BooleanQuestion\"\n\t\t\t\t\t\t\t\t\t\t\tif subQs.type==\"IntQuestion\" || subQs.type == \"FloatQuestion\"\n\t\t\t\t\t\t\t\t\t\t\t\t@newReport_addQuestions(subQs.text, subQs.id, 'yes', true)\n\t\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\t\t@newReport_addQuestions(subQs.text, subQs.id, 'no', true)\n\t\t\t\t\t\t\t\t\twhen 3\n\t\t\t\t\t\t\t\t\t\tif subQs.type ==\"SelectOneQuestion\" || subQs.type ==\"SelectMultipleQuestion\" || subQs.type ==\"BooleanQuestion\"\n\t\t\t\t\t\t\t\t\t\t\t@newReport_addQuestions(subQs.text, subQs.id, null, true)\n\n\n\t\t\t\t\t\t# If more subquestions\n\t\t\t\t\t\tif subQs.triggerValues?\n\t\t\t\t\t\t\t@addSubQuestions subQs,rowandcolumn\n\n\n\t# FUNCTION: @newReport_addQuestions() adds questions from the form\n\tnewReport_addQuestions: (qtn_text, qtn_id, isnumber, isSubQtn = false) ->\n\t\tobj= {\"qtn_text\":qtn_text, \"qtn_id\":qtn_id, \"isnumber\":isnumber,\"checked\":false}\n\t\tindent = \"\"\n\t\tif isSubQtn\n\t\t\tindent=\"&nbsp; &nbsp;\"\n\t\tif isnumber is 'yes'\n\t\t\tqtn_text = qtn_text + \"(numeric)\"\n\t\tquestions = @chartNewModel.get(\"questions\")\n\t\tquestions[qtn_id] = obj\n\t\t@chartNewModel.set questions:questions\n\t\t@srcSelect.append @qtn_template({\n\t\t\t\"qtn_id\": qtn_id\n\t\t\t\"qtn_text\": qtn_text\n\t\t\t\"indent\": indent\n\t\t})\n\n\n\t# FUNCTION: renderReport() when check is clicked, this function updates parameters and calls fetchReport function of parent class i.e ChartPanel.\n\trenderReport: () ->\n\t\t@$(\"#render\").button('loading')\n\t\tself = @\n\n\t\t#console.log \"renderReport()->\", @model\n\t\t#newAttr = @model.get(\"newAttr\")\n\t\t@params = {}\n\t\t@params.fieldsToBeReported = \"\"\n\t\t@params.hasNumericFields = false\n\t\t$.each @chartNewModel.get(\"questions\"), (key,value)=>\n\t\t\tif value.checked is true\n\t\t\t\t#console.log(\"key value\", key, value)\n\t\t\t\tif @chartId is 0 or @chartId is 1 or @chartId is 2\n\t\t\t\t\tif value.isnumber is \"yes\"\n\t\t\t\t\t\t@params.hasNumericFields = true\n\t\t\t\tif @params.fieldsToBeReported is \"\"\n\t\t\t\t\t@params.fieldsToBeReported += \"\" + value.qtn_id\n\t\t\t\telse\n\t\t\t\t\t@params.fieldsToBeReported += \",\"+ value.qtn_id\n\t\t@params.fieldsToBeReported += \"\"\n\n\t\t# Settings\n\t\t@params.combinenumericfields = (if @chartNewModel.get(\"settings\").combinenumericfields then \"1\" else \"0\")\n\t\t#@params.reportType = (if newAttr.settings.locationreport then \"1\" else \"0\")\n\t\t@params.excludenull = (if @chartNewModel.get(\"settings\").excludenull then \"1\" else \"0\")\n\n\t\t# Filters\n\t\t@params.editorFilterType = (if @chartNewModel.get(\"filters\").editorFilterType then \"1\" else \"0\")\n\t\t@params.dateFilterType = (if @chartNewModel.get(\"filters\").dateFilterType then \"1\" else \"0\")\n\t\t@params.locFilterType = (if @chartNewModel.get(\"filters\").locFilterType then \"1\" else \"0\")\n\n\t\t#Select X-axis/Legend Question\n\t\t@params.legendid = @$(\"#legendQuestion_c\").val()\n\t\tconsole.log(\"legend\", @$(\"#legendQuestion_c\").val(), @$(\"#legendQuestion_c :selected\").text())\n\n\t\t#Select Grouping\n\t\t@params.reportType = \"0\"\n\t\t@params.locationLevels = (if @$(\"#locationLevel_c\").val() is null then \"0\" else @$(\"#locationLevel_c\").val())\n\t\tif @params.locationLevels != \"0\"\n\t\t\t@params.reportType = \"1\" #Locations levels selected therefore change report type\n\n\t\t#console.log \"LocationReport\", @params.reportType, @params.locationLevels\n\n\t\t@params.includeUsers = \"0\"\n\t\t@params.includelocation = \"0\" # To be made available only for Table\n\t\t@params.locationLevelDataFilter = \"\" # Not sure where it is used, since the div is displayed fr no types of charts\n\t\t@params.orientation = \"1\" # Just for bar chart. 1 for vertical, 0 for horizontal. However horizontal bar charts are not yet implemented\n\t\t@params.format =  \"json\" #always gonna be json for charts\n\t\t@params.subgroup = \"\" # Not sure\n\t\t@params.includetimestamp = \"0\"\n\t\t@params.newdata = \"1\"\n\t\t@params.type = \"SUM\" #Other selections only available for Table\n\t\t@params.rowquestion = \"\" # Available for Cross Table only\n\t\t@params.timeseriestype = \"\" # Matters for Area and Line only\n\t\tif @chartId is 1 or @chartId is 2\n\t\t\tif @params.legendid is \"modifiedday\"\n\t\t\t\t@params.legendid = \"modified\"\n\t\t\t\t@params.timeseriestype = \"DAY\"\n\t\t\telse if @params.legendid is \"modifiedweek\"\n\t\t\t\t\t@params.legendid = \"modified\"\n\t\t\t\t\t@params.timeseriestype = \"WEEK\"\n\t\t\telse if @params.legendid is \"modifiedmonth\"\n\t\t\t\t\t@params.legendid = \"modified\"\n\t\t\t\t\t@params.timeseriestype = \"MONTH\"\n\t\t\telse if @params.legendid is \"modifiedyear\"\n\t\t\t\t\t@params.legendid = \"modified\"\n\t\t\t\t\t@params.timeseriestype = \"YEAR\"\n\t\t\telse if @params.legendid is \"modifieddaytime\"\n\t\t\t\t\t@params.legendid = \"modified\"\n\t\t\t\t\t@params.timeseriestype = \"TIME\"\n\n\t\ttemplate_data = @model.get(\"template_data\")\n\t\ttemplate_params = template_data.template_params\n\n\t\tif @params.fieldsToBeReported is \"\"\n\t\t\tbootbox.alert \"Please select a question\"\n\t\t\t@stopLoading()\n\t\t\treturn\n\t\telse\n\t\t\ttemplate_params.questions = @params.fieldsToBeReported\n\t\t\ttemplate_params.newdata = @params.newdata\n\t\t\ttemplate_params.includelocation = @params.includelocation\n\t\t\ttemplate_params.type = @params.type\n\t\t\ttemplate_params.includetimestamp = @params.includetimestamp\n\t\t\ttemplate_params.includeUsers = @params.includeUsers\n\t\t\ttemplate_params.legendid = @params.legendid\n\t\t\ttemplate_params.reportType = @params.reportType\n\t\t\ttemplate_params.locationLevels = @params.locationLevels\n\t\t\ttemplate_params.combinenumericfields = @params.combinenumericfields\n\t\t\ttemplate_params.timeseriestype = @params.timeseriestype\n\t\t\ttemplate_params.locationLevelDataFilter = @params.locationLevelDataFilter\n\t\t\ttemplate_params.orientation = @params.orientation\n\t\t\ttemplate_params.format = @params.format\n\t\t\ttemplate_params.excludenull = @params.excludenull\n\t\t\ttemplate_params.subgroup = @params.subgroup\n\n\t\t#@params.selLocs = getTreeSelectedNodes()\n\t\tif @params.dateFilterType is \"1\"\n\t\t\ttemplate_params.fromdate = @chartSelectionModel.get(\"fromDate\")\n\t\t\ttemplate_params.todate = @chartSelectionModel.get(\"toDate\")\n\t\telse\n\t\t\ttemplate_params.fromdate = \"\"\n\t\t\ttemplate_params.todate = \"\"\n\n\t\tif @params.editorFilterType is \"1\"\n\t\t\ttemplate_params.users = @chartSelectionModel.get(\"users\")\n\t\telse\n\t\t\ttemplate_params.users = \"\"\n\n\t\tif @params.locFilterType is \"1\"\n\t\t\ttemplate_params.locs = @chartSelectionModel.get(\"locations\")\n\t\t\ttemplate_params.levels = @chartSelectionModel.get(\"levels\")\n\t\telse\n\t\t\ttemplate_params.locs = \"\"\n\t\t\ttemplate_params.levels = \"\"\n\t\ttemplate_data.template_params = template_params\n\t\t#console.log \"template_params\",template_params\n\t\t@model.set template_data:template_data\n\t\tunless @model.get(\"loaded\")\n\t\t\t@$(\"#close\").addClass(\"btn-warning\")\n\t\t\t@$(\"#close\").prop(\"disabled\", false )\n\n\t\t@model.set loaded:true\n\t\t#console.log \"params\", @model, @chartSelectionModel\n\n\t\tsetTimeout(()->\n\t\t\tself.parent.fetchReport(()->\n\t\t\t\tself.parent.createChartModels() #calling method of ChartPanel View\n\t\t\t\tself.stopLoading()\n\t\t\t) # calling chartPanel to render charts\n\n\t\t, 0);\n\n\t# FUNCTION: stopLoading() Resets the the Render button\n\tstopLoading:()->\n\t\t#alert \"loading complete\"\n\t\t@$(\"#render\").button('reset')\n\n\n\t# FUNCTION: change() whenever the user changes some values in the menu, this function is called to update relevant parameters\n\tchange: (evt) ->\n\t\tself = this\n\t\t$target = $( evt.currentTarget )\n\t\tform_attr = $target.attr( 'data-attr' )\n\t\tif form_attr==\"questions\"\n\t\t\tval = $target.attr( 'data-value' )\n\n\t\t\tchk = !@chartNewModel.get(\"questions\")[val].checked\n\t\t\t#@newAttr.questions[val].checked = chk\n\t\t\t#@model.set newAttr: @newAttr\n\t\t\tquestions = @chartNewModel.get(\"questions\")\n\t\t\tquestions[val].checked = chk\n\t\t\t@chartNewModel.set questions: questions\n\n\t\t\tif @chartNewModel.get(\"questions\")[val].isnumber is \"yes\"\n\t\t\t\tif chk\n\t\t\t\t\t@isNumericField++\n\t\t\t\telse\n\t\t\t\t\t@isNumericField--\n\t\t\t\tif @isNumericField > 0\n\t\t\t\t\t@$(\".legendDiv\").show()\n\t\t\t\t\t@newReport_updateGrouping()\n\t\t\t\telse\n\t\t\t\t\t@$(\".legendDiv\").hide()\n\t\t\t\t\t@newReport_updateGrouping()\n\n\t\telse if form_attr==\"filters\"\n\t\t\tval = $target.attr( 'data-value' )\n\t\t\tchk = !@chartNewModel.get(\"filters\")[val]\n\t\t\t#@newAttr.filters[val] = chk\n\t\t\t#@model.set newAttr: @newAttr\n\t\t\tfilters = @chartNewModel.get(\"filters\")\n\t\t\tfilters[val] = chk\n\t\t\t@chartNewModel.set filters: filters\n\n\n\t\telse if form_attr==\"settings\"\n\t\t\tval = $target.attr( 'data-value' )\n\t\t\tchk = !@chartNewModel.get(\"settings\")[val]\n\t\t\t#@newAttr.settings[val] = chk\n\t\t\t#@model.set newAttr: @newAttr\n\t\t\tsettings = @chartNewModel.get(\"settings\")\n\t\t\tsettings[val] = chk\n\t\t\t@chartNewModel.set settings: settings\n\t\t\t###\n\t\t\tif newAttr.settings['locationreport']\n\t\t\t\t@$(\"#locationLevel_c\").prop(\"disabled\", false)\n\t\t\telse\n\t\t\t\t@$(\"#locationLevel_c\").prop(\"disabled\", true)\n\t\t\t###\n\n\t\telse\n\t\t\treturn true\n\n\t\t#console.log 'newAttr='+form_attr, @model.get(\"report_title\"), @chartNewModel\n\n\n\t\t$inp = $target.find( 'input' )\n\t\t#console.log(\"checked\",chk, $target, val, $inp, $inp.is(\":checked\"))\n\t\tsetTimeout (->\n\t\t\t$inp.prop 'checked', chk\n\t\t\treturn\n\t\t), 0\n\t\tfalse\n\n\n\thelp: () ->\n\t\tbootbox.dialog {\n\t\t\ttitle: \"Help: Create Reports\",\n\t\t\tmessage: '\n\t\t\t\t<center><iframe width=\"640\" height=\"360\" src=\"https://www.youtube.com/embed/mMdOIuLorE8?rel=0\" frameborder=\"0\" allowfullscreen></iframe></center>\n\t\t\t\t<div class=\"panel panel-default\">\n\t\t\t\t\t<div class=\"panel-heading\">Questions\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" disabled>\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-list-ol\"></i> Select Questions <i class=\"fa fa-caret-down\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"panel-body\">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>A chart will be generated for each question selected from the dropdown list</li>\n\t\t\t\t\t\t\t<li>Sub-Questions will be indented within the main question</li>\n\t\t\t\t\t\t\t<li>Selection of a numerical question will create a dropdown to select the value of X-Axis</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"panel panel-default\">\n\t\t\t\t\t<div class=\"panel-heading\">X axis</div>\n\t\t\t\t\t<div class=\"panel-body\">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>If a numeric question is selected, this box will appear</li>\n\t\t\t\t\t\t\t<li>Select the appropriate value you need as an X-axis parameter in the chart</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"panel panel-default\">\n\t\t\t\t\t<div class=\"panel-heading\">Filters\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-filter\"></i><i class=\"fa fa-caret-down\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"panel-body\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>Checking the filters will apply the slected filters in the left panel to be applied for rendering charts.</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"panel panel-default\">\n\t\t\t\t\t<div class=\"panel-heading\">Select Grouping</div>\n\t\t\t\t\t<div class=\"panel-body\">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>Renders one chart each per location based on the selected location level.</li>\n\t\t\t\t\t\t\t<li>\\'No Grouping\\' will generate one chart per question aggregating all the data</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"panel panel-default\">\n\t\t\t\t\t<div class=\"panel-heading\">Render\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-success btn-sm\" disabled>\n\t\t\t\t\t\t\t\t\t\t\tRender\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"panel-body\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>Will generate the charts based on the parameters selected</li>\n\t\t\t\t\t\t\t\t<li>If modifications are required, change the parameters and click \\'Render\\' again</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"panel panel-default\">\n\t\t\t\t\t<div class=\"panel-heading\">Done\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-warning btn-sm\" disabled>\n\t\t\t\t\t\t\t\t\t\t\tDone\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"panel-body\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>If no more changes are required in the report, click \\'Done\\'</li>\n\t\t\t\t\t\t\t\t<li>Report can now be saved for loading automatically later. Report can also be downloaded as PDF/WORD/Excel</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t'\n\t\t}\n\n\n\tqtn_template:_.template '<li><a href=\"#\" class=\"small drpdwn\" data-value=\"{{qtn_id}}\" data-attr=\"questions\" tabindex=\"-1\">{{indent}}<input class=\"chkbox\" type=\"checkbox\">&nbsp; {{qtn_text}}</a></li>'\n\n\tnewReport_template:_.template '\n\t\t<div class=\"col-md-12 col-lg-12 col-sm-12\">\n\t\t\t<!-- QUESTIONS -->\n\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t\t\t\t<div class=\"button-group\">\n\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-list-ol\"></i> Select Questions <i class=\"fa fa-caret-down\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<ul id=\"questionName_c\" class=\"dropdown-menu\">\n\t\t\t\t\t\t\t\t\t<li><a href=\"#\" class=\"small\" data-value=\"option1\" tabindex=\"-1\"><input type=\"checkbox\">&nbsp;Qtn1</a></li>\n\t\t\t\t\t\t\t\t\t<li><a href=\"#\" class=\"small\" data-value=\"option2\" tabindex=\"-1\"><input type=\"checkbox\">&nbsp;Qtn2</a></li>\n\t\t\t\t\t\t\t\t\t<li><a href=\"#\" class=\"small\" data-value=\"option3\" tabindex=\"-1\"><input type=\"checkbox\">&nbsp;Qtn3</a></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Question Ends Here -->\n\t\t\t<!-- DATA FILTERS -->\n\n\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t\t\t\t<div class=\"button-group\">\n\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-filter\"></i> <i class=\"fa fa-caret-down\"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t\t\t\t\t<li><a href=\"#\" class=\"small drpdwn\" data-attr=\"filters\" data-value=\"editorFilterType\" tabindex=\"-1\"><input type=\"checkbox\" id=\"editorFilterType_c\">&nbsp;Apply User filter</a></li>\n\t\t\t\t\t\t\t\t\t<li><a href=\"#\" class=\"small drpdwn\" data-value=\"dateFilterType\" data-attr=\"filters\" tabindex=\"-1\"><input type=\"checkbox\" id=\"dateFilterType_c\">&nbsp;Apply Date Filter</a></li>\n\t\t\t\t\t\t\t\t\t<li><a href=\"#\" class=\"small drpdwn\" data-value=\"locFilterType\" data-attr=\"filters\" tabindex=\"-1\"><input type=\"checkbox\" id=\"locFilterType_c\">&nbsp;Apply Location Filter</a></li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- DATA FILTERS END HERE -->\n\t\t\t<!-- X-AXIS VALUE -->\n\t\t\t<div class=\"form-group not_pie legendDiv\">\n\t\t\t\t<p class=\"form-control-static\"><b> X axis: </b> </p>\n\t\t\t\t<label class=\"sr-only\" for=\"selectLocation\">Numeric data fields use this field as X axis </label>\n\t\t\t\t<select id=\"legendQuestion_c\" class=\"form-control input-sm\" style=\"width: 10em;\">\n\t\t\t\t\t<option value=\"1\">Sub-County</option>\n\t\t\t\t\t<option value=\"2\">Division</option><option value=\"3\">Location</option><option value=\"4\">Sub-location</option><option value=\"Type_of_water_source\">Type of water source-(Page_1)</option><option value=\"Quality_of_water\">Quality of water-(Page_1)</option><option value=\"Water_availability\">Water availability-(Page_1)</option><option value=\"Ownership\">Ownership of waterpoint-(Page_1)</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t\t<!-- X-AXIS ENDS HERE-->\n\t\t\t<!-- SETTINGS-->\n\n\t\t\t<div class=\"form-group\">\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-lg-6\">\n\t\t\t\t\t\t<div class=\"button-group\">\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\">\n\t\t\t\t\t\t\t\t<i class=\"fa fa-cog\"></i> <i class=\"fa fa-caret-down\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t\t\t\t<li><a href=\"#\" class=\"small drpdwn\" data-value=\"excludenull\" data-attr=\"settings\" tabindex=\"-1\"><input type=\"checkbox\" id=\"excludenull_c\">&nbsp;Exclude Non-Response Values</a></li>\n\t\t\t\t\t\t\t\t<li class=\"not_pie\"><a href=\"#\" class=\"small drpdwn\" data-value=\"combinenumericfields\" data-attr=\"settings\" tabindex=\"-1\"><input type=\"checkbox\" id=\"combinenumericfields_c\">&nbsp;Combine all numeric values into one chart</a></li>\n\t\t\t\t\t\t\t\t<!--<li><a href=\"#\" class=\"small drpdwn\" data-value=\"locationreport\" data-attr=\"settings\" tabindex=\"-1\"><input type=\"checkbox\" id=\"locationreport_c\">&nbsp;Generate separate chart for each location</a></li>-->\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- SETTINGS END HERE -->\n\t\t\t<!-- IF LOCATION SELECTED THEN GROUPING-->\n\n\t\t\t<div class=\"form-group\">\n\t\t\t\t<p class=\"form-control-static\"><b>Select Grouping:</b></p>\n\t\t\t\t<label class=\"sr-only\" for=\"selectLocation\">Select Grouping</label>\n\t\t\t\t<select id=\"locationLevel_c\" class=\"form-control input-sm\" style=\"width: 10em;\">\n\t\t\t\t\t\t\t\t<!--<option>Sub-County</option>\n\t\t\t\t\t\t\t\t<option>Division</option>-->\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<!-- GROUPING enD HERES-->\n\n\t\t\t<button class=\"btn btn-sm btn-success\" id=\"render\" data-loading-text=\"<i class=\\'fa fa-circle-o-notch fa-spin\\'></i> Rendering\">Render</button>\n\t\t\t<i class=\"editReport help-button fa fa-question-circle\" id=\"help\"></i>\n\t\t\t<button class=\"btn btn-sm editReport\" id=\"close\">Done</button>\n\n\t\t</div>'\n\n}\n# ChartNew ends here\n\n# export the following globals\nroot = window or this\nunless root.poimapper?\n\troot.poimapper = {}\n\nunless root.poimapper.views?\n\troot.poimapper.views = {}\n\nroot.poimapper.views.ChartNew = ChartNew\n"]}